<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemServerToDaymonage</title>

<script src="./script.js" defer> </script>

    <link rel="icon" href="./media/photo_2025-11-01_23-38-02.jpg">
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Jura:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kalam&display=swap" rel="stylesheet">
</head>
<body>
   <span class="money">Баребухи: <p id="money" style="display:inline-block">0</p></span>
<button class="info" onclick="openModal()"><img src="./media/info-circle-svgrepo-com.svg"/></button>


  <div class="map">
    <img src="./media/baza.png" alt="map" class="blur-border">
    <div class="overlay">
      <!-- data-link атрибут містить URL, який відкриється при натиску E (або У) -->
      <div class="pc" data-link="./pc/comp.html" title="Press E"></div>
      <div class="server" data-link="./ser/server.html" title="Press E"></div>
    </div>
  </div>






<div id="modal" class="modal">
  <div class="modal-content">
    <button id="closeModal">Закрыть окно</button>
<p>Добро пожаловать в информационный блок!<br>
Этот сайт — мини-игра, которую я создавал с учётом связи с сообществом стримера Daymonage. Здесь есть отсылки, пасхалки и локальные мемы, которые могут быть вам знакомы.<br><br>
Суть мини-игры: есть две игры — одна на сервере, вторую вы найдёте в консоли на ПК. В них вы зарабатываете местную валюту, за которую в магазине можно купить различную «дичь» и посмотреть, что скрывается внутри.<br><br>
Если возникают какие-то проблемы или вы находите баг, который явно мешает, вы также можете обратиться ко мне через команду в консоли.<br><br> Подсказка - что б покинуть меню информации товара, нажмите за меню в зону монитора</p>

    
  </div>
</div>





</body>

<script type="module">
  import { getMoney, onMoneyChange } from '../money.js'; // <- поправ шлях тут

  // елемент, де показуємо баланс
  const moneyEl = document.getElementById('money');

  // показуємо поточний баланс одразу
  try { moneyEl.textContent = String(getMoney()); } catch(e){ console.warn(e); moneyEl.textContent = '0'; }

  // підписка на оновлення (money.js має onMoneyChange)
  if (typeof onMoneyChange === 'function') {
    onMoneyChange((val) => {
      moneyEl.textContent = String(val);
    });
  } else {
    // fallback: періодичне оновлення якщо onMoneyChange немає
    setInterval(async () => {
      try {
        const m = await import('../money.js'); // або інший шлях
        if (m && typeof m.getMoney === 'function') moneyEl.textContent = String(m.getMoney());
      } catch (err) { /* ignore */ }
    }, 1000);
  }
</script>

</html>

        <!-- если в магазе выбрать торт, ты умрёшь, веть торт, это зло -->
